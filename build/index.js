(()=>{"use strict";const e=window.React,i=window.wp.i18n,t=window.wp.primitives,n=window.ReactJSXRuntime,d=(0,n.jsxs)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)(t.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,n.jsx)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]}),c=window.wp.editor,o=window.wp.components,s=window.wp.plugins,r=window.wp.data,a=window.wp.blockEditor,l=window.wp.coreData,w="altis-media-weight",u=w,m=e=>e.reduce(((e,i)=>(["core/image","core/video"].includes(i.name)&&e.push(i),i.innerBlocks?e.concat(m(i.innerBlocks)):e)),[]);(0,s.registerPlugin)(w,{icon:d,render:(...t)=>{const d=(()=>{const i=(0,r.useSelect)((e=>e(a.store).getBlocks())),{imageIds:t,videoIds:n}=(0,e.useMemo)((()=>{const e=m(i),t=[],n=[];for(let i of e)i.attributes?.id&&("core/image"===i.name?t.push(i.attributes.id):"core/video"===i.name&&n.push(i.attributes.id));return{imageIds:t,videoIds:n}}),[i]),d=(0,l.useEntityRecords)("postType","attachment",{per_page:t.length,include:t})?.records||[],c=(0,l.useEntityRecords)("postType","attachment",{per_page:n.length,include:n})?.records||[];return d.concat(c)})();return console.log(d),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.PluginSidebarMoreMenuItem,{target:u,children:(0,i.__)("Media Weight sidebar","altis-media-weight")}),(0,n.jsx)(c.PluginSidebar,{name:u,title:(0,i.__)("Media Weight","altis-media-weight"),children:(0,n.jsx)(o.PanelBody,{children:d.map((e=>(0,n.jsx)("pre",{children:JSON.stringify(e,null,2)},`media-block-${e.clientId}`)))})})]})}})})();